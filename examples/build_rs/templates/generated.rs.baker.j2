// {{ description }}
//
// This file is auto-generated by Baker during build.
// Do not edit manually.

/// {{ description }}
pub mod {{ module_name }} {
    /// Status code constant
    #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
    pub struct StatusCode {
        pub code: u16,
        pub name: &'static str,
        pub description: &'static str,
    }

    impl StatusCode {
        /// Returns the numeric status code
        pub const fn code(&self) -> u16 {
            self.code
        }

        /// Returns the status name
        pub const fn name(&self) -> &'static str {
            self.name
        }

        /// Returns the status description
        pub const fn description(&self) -> &'static str {
            self.description
        }
    }

    impl std::fmt::Display for StatusCode {
        fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {
            write!(f, "{} {}", self.code, self.name)
        }
    }

    // Generated constants
    {% for item in items %}
    /// {{ item.description }}
    pub const {{ item.name }}: StatusCode = StatusCode {
        code: {{ item.value }},
        name: "{{ item.name }}",
        description: "{{ item.description }}",
    };
    {% endfor %}

    /// All status codes
    pub const ALL: &[StatusCode] = &[
        {% for item in items %}
        {{ item.name }},
        {% endfor %}
    ];

    /// Look up a status code by its numeric value
    pub fn from_code(code: u16) -> Option<StatusCode> {
        match code {
            {% for item in items %}
            {{ item.value }} => Some({{ item.name }}),
            {% endfor %}
            _ => None,
        }
    }

    /// Look up a status code by its name
    pub fn from_name(name: &str) -> Option<StatusCode> {
        match name {
            {% for item in items %}
            "{{ item.name }}" => Some({{ item.name }}),
            {% endfor %}
            _ => None,
        }
    }
}
